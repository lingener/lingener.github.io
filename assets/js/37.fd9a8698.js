(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{673:function(s,a,t){"use strict";t.r(a);var n=t(3),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"配置中心"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置中心"}},[s._v("#")]),s._v(" 配置中心")]),s._v(" "),t("h3",{attrs:{id:"为什么需要配置中心"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要配置中心"}},[s._v("#")]),s._v(" 为什么需要配置中心")]),s._v(" "),t("p",[s._v("单体应用，配置写在配置文件中，没有什么大问题。如果要切换环境 可以切换不同的profile（2种方式），但在微服务中。")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("微服务比较多。成百上千，配置很多，需要集中管理。")])]),s._v(" "),t("li",[t("p",[s._v("管理不同环境的配置。")])]),s._v(" "),t("li",[t("p",[s._v("需要动态调整配置参数，更改配置不停服。")])])]),s._v(" "),t("h3",{attrs:{id:"配置中心介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置中心介绍"}},[s._v("#")]),s._v(" 配置中心介绍")]),s._v(" "),t("p",[s._v("分布式配置中心包括3个部分：")]),s._v(" "),t("ol",[t("li",[s._v("存放配置的地方：git ，本地文件 等。")]),s._v(" "),t("li",[s._v("config  server。从 1 读取配置。")]),s._v(" "),t("li",[s._v("config client。是 config server 的客户端 消费配置。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"/Users/lijinling/Documents/svn/myRepo/Coding/DayDayUp/Architect/SpringCloud/images/222.png",alt:"img"}})]),s._v(" "),t("h2",{attrs:{id:"服务搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务搭建"}},[s._v("#")]),s._v(" 服务搭建")]),s._v(" "),t("h3",{attrs:{id:"基于github"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基于github"}},[s._v("#")]),s._v(" 基于GITHUB")]),s._v(" "),t("h4",{attrs:{id:"_1-创建仓库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建仓库"}},[s._v("#")]),s._v(" 1.创建仓库")]),s._v(" "),t("p",[t("img",{attrs:{src:"/Users/lijinling/Documents/svn/myRepo/Coding/DayDayUp/Architect/SpringCloud/images/image-20200424160341634.png",alt:"image-20200424160341634"}})]),s._v(" "),t("p",[s._v("登录GitHub创建仓库，并上传几个配置文件")]),s._v(" "),t("h4",{attrs:{id:"_2-新建微服务作为配置中心服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-新建微服务作为配置中心服务"}},[s._v("#")]),s._v(" 2.新建微服务作为配置中心服务")]),s._v(" "),t("p",[s._v("依赖")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-config-server</artifactId>\n\t\t</dependency>\n\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-starter-netflix-eureka-client</artifactId>\n\t\t</dependency>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("配置文件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("spring.cloud.config.server.git.uri=https://github.com/piziniao/config-center.git\nspring.cloud.config.label=master\n\neureka.client.service-url.defaultZone=http://euk1.com:7002/eureka/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("启动类")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("package com.mashibing.admin;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.config.server.EnableConfigServer;\n@EnableConfigServer\n@SpringBootApplication\npublic class AConfigApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(AConfigApplication.class, args);\n\t}\n\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h4",{attrs:{id:"_3-启动测试拉取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动测试拉取"}},[s._v("#")]),s._v(" 3.启动测试拉取")]),s._v(" "),t("p",[s._v("启动服务后访问服务")]),s._v(" "),t("p",[s._v("http://localhost:70/master/user-consumer-dev.properties")]),s._v(" "),t("p",[s._v("正确配置后能读到来自git的配置文件")]),s._v(" "),t("h3",{attrs:{id:"匹配规则"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#匹配规则"}},[s._v("#")]),s._v(" 匹配规则")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("获取配置规则：根据前缀匹配\n/{name}-{profiles}.properties\n/{name}-{profiles}.yml\n/{name}-{profiles}.json\n/{label}/{name}-{profiles}.yml\n\nname 服务名称\nprofile 环境名称，开发、测试、生产：dev qa prd\nlable 仓库分支、默认master分支\n\n匹配原则：从前缀开始。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h3",{attrs:{id:"分支读取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支读取"}},[s._v("#")]),s._v(" 分支读取")]),s._v(" "),t("h2",{attrs:{id:"客户端配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端配置"}},[s._v("#")]),s._v(" 客户端配置")]),s._v(" "),t("h3",{attrs:{id:"配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),t("p",[s._v("修改 application.properties为bootstrap.properties")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#直接URL方式查找配置中心")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("spring.cloud.config.uri")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("http://localhost:8090/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#通过注册中心查找")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#spring.cloud.config.discovery.enabled=true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#spring.cloud.config.discovery.service-id=a-config")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("spring.cloud.config.profile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("dev")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("spring.cloud.config.label")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("dev")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"引入依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引入依赖"}},[s._v("#")]),s._v(" 引入依赖")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-config-client</artifactId>\n\t\t</dependency>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"使用远程配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用远程配置"}},[s._v("#")]),s._v(" 使用远程配置")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('\t@Value("${config.info}")\n\tString info;\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("consumer-dev.properties")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('config.info="config-dev,v1"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"刷新配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#刷新配置"}},[s._v("#")]),s._v(" 刷新配置")]),s._v(" "),t("h3",{attrs:{id:"手动配置热更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#手动配置热更新"}},[s._v("#")]),s._v(" 手动配置热更新")]),s._v(" "),t("ol",[t("li",[s._v("开启actuator中的refresh端点")]),s._v(" "),t("li",[s._v("Controller中添加"),t("code",[s._v("@RefreshScope")]),s._v("注解")]),s._v(" "),t("li",[s._v("向客户端 url "),t("code",[s._v("http://localhost:91/actuator/refresh")]),s._v("发送Post请求")])]),s._v(" "),t("h3",{attrs:{id:"自动刷新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动刷新"}},[s._v("#")]),s._v(" 自动刷新")]),s._v(" "),t("h4",{attrs:{id:"erlang安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#erlang安装"}},[s._v("#")]),s._v(" erlang安装")]),s._v(" "),t("p",[s._v("http://www.erlang.org/downloads")]),s._v(" "),t("h4",{attrs:{id:"rabbitmq安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq安装"}},[s._v("#")]),s._v(" RabbitMQ安装")]),s._v(" "),t("p",[s._v("http://www.rabbitmq.com/install-windows.html")]),s._v(" "),t("h4",{attrs:{id:"环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[s._v("#")]),s._v(" 环境变量")]),s._v(" "),t("p",[s._v("path中添加 "),t("code",[s._v("%ERLANG_HOME%\\bin")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启RabbitMQ节点")]),s._v("\nrabbitmqctl start_app\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启RabbitMQ管理模块的插件，并配置到RabbitMQ节点上")]),s._v("\nrabbitmq-plugins "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" rabbitmq_management\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"管理界面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管理界面"}},[s._v("#")]),s._v(" 管理界面")]),s._v(" "),t("p",[s._v("http://localhost:15672")]),s._v(" "),t("p",[s._v("用户名密码均为guest")]),s._v(" "),t("h4",{attrs:{id:"服务配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务配置"}},[s._v("#")]),s._v(" 服务配置")]),s._v(" "),t("p",[s._v("配置文件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("spring.rabbitmq.host=localhost\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=guest\nspring.rabbitmq.password=guest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("依赖")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-starter-bus-amqp</artifactId>\n\t\t</dependency>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),t("p",[s._v("启动两个微服务")]),s._v(" "),t("p",[s._v("修改配置文件后向其中一个端点发送post请求")]),s._v(" "),t("p",[s._v("http://localhost:91/actuator/bus-refresh")]),s._v(" "),t("p",[s._v("观察另一个服务是否也跟着刷新了")]),s._v(" "),t("h2",{attrs:{id:"完整配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#完整配置"}},[s._v("#")]),s._v(" 完整配置")]),s._v(" "),t("h3",{attrs:{id:"config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#config"}},[s._v("#")]),s._v(" Config")]),s._v(" "),t("h4",{attrs:{id:"application-properties"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#application-properties"}},[s._v("#")]),s._v(" application.properties")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#################################### common config : ####################################\nspring.application.name=a-config\n# 应用服务web访问端口\nserver.port=9999\n# ActuatorWeb访问端口\nmanagement.server.port=8081\nmanagement.endpoints.jmx.exposure.include=*\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=always\n\nspring.cloud.config.server.git.uri=https://github.com/piziniao/config-center.git\nspring.cloud.config.label=master\n\neureka.client.service-url.defaultZone=http://euk1.com:7002/eureka/\n\n\nspring.rabbitmq.host=localhost\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=guest\nspring.rabbitmq.password=guest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("h4",{attrs:{id:"启动类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动类"}},[s._v("#")]),s._v(" 启动类")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("@EnableConfigServer\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖"}},[s._v("#")]),s._v(" 依赖")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-starter-bus-amqp</artifactId>\n\t\t</dependency>\n\n\n\t\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-actuator</artifactId>\n\t\t</dependency>\n\n\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-config-server</artifactId>\n\t\t</dependency>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("h3",{attrs:{id:"consumer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#consumer"}},[s._v("#")]),s._v(" Consumer")]),s._v(" "),t("h4",{attrs:{id:"bootstrap-properties"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bootstrap-properties"}},[s._v("#")]),s._v(" bootstrap.properties")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("spring.cloud.config.discovery.enabled=true\nspring.cloud.config.discovery.service-id=a-config\nspring.cloud.config.profile=dev\nspring.cloud.config.label=dev\n\n\nspring.rabbitmq.host=localhost\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=guest\nspring.rabbitmq.password=guest\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h4",{attrs:{id:"依赖-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖-2"}},[s._v("#")]),s._v(" 依赖")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-starter-bus-amqp</artifactId>\n\t\t</dependency>\n\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-actuator</artifactId>\n\t\t</dependency>\n\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.cloud</groupId>\n\t\t\t<artifactId>spring-cloud-config-client</artifactId>\n\t\t</dependency>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"远程配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#远程配置"}},[s._v("#")]),s._v(" 远程配置")]),s._v(" "),t("h4",{attrs:{id:"consumer-dev-properties"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#consumer-dev-properties"}},[s._v("#")]),s._v(" consumer-dev.properties")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('config.info="config-dev,v8"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);