(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{592:function(t,r,s){t.exports=s.p+"assets/img/Redis_击穿.36ebe6f1.png"},593:function(t,r,s){t.exports=s.p+"assets/img/Redis_血崩.afe49c8b.png"},594:function(t,r,s){t.exports=s.p+"assets/img/Redis_穿透.d4a9d726.png"},687:function(t,r,s){"use strict";s.r(r);var e=s(3),a=Object(e.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"常见问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),e("h2",{attrs:{id:"缓存击穿"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓存击穿"}},[t._v("#")]),t._v(" 缓存击穿")]),t._v(" "),e("p",[e("strong",[t._v("大量请求突然访问没有缓存的数据")])]),t._v(" "),e("p",[e("img",{attrs:{src:s(592),alt:"image-20210715111216693"}})]),t._v(" "),e("h2",{attrs:{id:"缓存血崩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓存血崩"}},[t._v("#")]),t._v(" 缓存血崩")]),t._v(" "),e("p",[e("strong",[t._v("大量key同时失效")])]),t._v(" "),e("p",[e("img",{attrs:{src:s(593),alt:"image-20210715111841803"}})]),t._v(" "),e("h2",{attrs:{id:"缓存穿透"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓存穿透"}},[t._v("#")]),t._v(" 缓存穿透")]),t._v(" "),e("p",[e("strong",[t._v("数据库里根本没有查询的数据")])]),t._v(" "),e("p",[e("img",{attrs:{src:s(594),alt:"image-20210715111513844"}})]),t._v(" "),e("h2",{attrs:{id:"分布式锁"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分布式锁"}},[t._v("#")]),t._v(" 分布式锁")]),t._v(" "),e("p",[t._v("1，setnx")]),t._v(" "),e("p",[t._v("2，过期时间")]),t._v(" "),e("p",[t._v("3，多线程（守护线程）延长过期")]),t._v(" "),e("p",[t._v("redisson")]),t._v(" "),e("p",[t._v("zookeeper 做分布式锁！")]),t._v(" "),e("h2",{attrs:{id:"缓存双写一致性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#缓存双写一致性"}},[t._v("#")]),t._v(" 缓存双写一致性")]),t._v(" "),e("h2",{attrs:{id:"redis作为数据库和缓存的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis作为数据库和缓存的区别"}},[t._v("#")]),t._v(" Redis作为数据库和缓存的区别")]),t._v(" "),e("blockquote",[e("ul",[e("li",[e("p",[t._v("缓存数据不重要")])]),t._v(" "),e("li",[e("p",[t._v("缓存不是全量的数据")])]),t._v(" "),e("li",[e("p",[t._v("缓存应该随着访问变化")])]),t._v(" "),e("li",[e("p",[t._v("热数据")])]),t._v(" "),e("li",[e("p",[t._v("redis作为缓存，数据如何随业务变化，只保留热数据？因为内存大小有限，也是瓶颈")])])])]),t._v(" "),e("h2",{attrs:{id:"异常集锦"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#异常集锦"}},[t._v("#")]),t._v(" 异常集锦")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("(error) CLUSTERDOWN Hash slot not served")])]),t._v(" "),e("p",[t._v("没有分配槽位，create-cluster start之后没有执行create-cluster create")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("(error) CROSSSLOT Keys in request don't hash to the same slot")])]),t._v(" "),e("p",[t._v("事务的操作key不在同一个槽位")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("(error) EXECABORT Transaction discarded because of previous errors.")])]),t._v(" "),e("p",[t._v("事务中的语句有错误")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("(error) ERR EXEC without MULTI")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("(error) ERR Errors trying to SHUTDOWN. Check logs.")])])])])])}),[],!1,null,null,null);r.default=a.exports}}]);