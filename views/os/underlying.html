<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åº•å±‚åŸºç¡€çŸ¥è¯† | å¿ƒæ²‰åˆ™çµ</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="å­¦è€Œä¸æ€åˆ™ç½”æ€è€Œä¸å­¦åˆ™æ®†!">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/css/0.styles.1ed67386.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/app.0b21ff5c.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/5.f8fa3a85.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/1.46137cce.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/8.3fc861cf.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/10.7222c760.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/11.31d5cb55.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/12.ac71a866.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/13.a4862f8f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/14.7d38783b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/15.edb526f6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/16.ac7c0538.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/17.c2f3c82d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/18.2858e484.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/19.e3fdb388.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/2.f64b1c52.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/20.de9181b7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/21.bf18fba2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/22.89ef57ad.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/23.d1369dc6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/24.57b2eb10.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/25.279be27c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/26.77abaa9b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/27.3ebdd851.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/28.3a7441a6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/29.ce0c7ac7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/30.5e1d60b3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/31.8e81922e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/32.f16a296c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/33.6f85c4d6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/34.3e2c1671.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/35.08d6b1a5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/36.2338551e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/37.fd9a8698.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/38.c9dab7de.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/39.ae723246.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/40.fbd466bd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/41.89cdf369.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/42.b0247ac4.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/43.9fb64b72.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/44.6d1a088b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/45.333ed046.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/46.146a5de6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/47.d3f7b767.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/48.a52dcdfb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/49.aa541e45.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/6.3bd08025.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/7.63cd94b3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/9.e143e01a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/vendors~flowchart.2b2fbf5d.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/css/0.styles.1ed67386.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-0f44a727><div data-v-0f44a727><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-0f44a727 data-v-0f44a727><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-355e03f9 data-v-0f44a727 data-v-0f44a727><h3 class="title" data-v-355e03f9 data-v-355e03f9>å¿ƒæ²‰åˆ™çµ</h3> <p class="description" data-v-355e03f9 data-v-355e03f9>å­¦è€Œä¸æ€åˆ™ç½”æ€è€Œä¸å­¦åˆ™æ®†!</p> <label id="box" class="inputBox" data-v-355e03f9 data-v-355e03f9><input type="password" value="" data-v-355e03f9> <span data-v-355e03f9>Konck! Knock!</span> <button data-v-355e03f9>OK</button></label> <div class="footer" data-v-355e03f9 data-v-355e03f9><span data-v-355e03f9><i class="iconfont reco-theme" data-v-355e03f9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-355e03f9>vuePress-theme-reco</a></span> <span data-v-355e03f9><i class="iconfont reco-copyright" data-v-355e03f9></i> <a data-v-355e03f9><span data-v-355e03f9>Lingener</span>
          Â Â 
          <span data-v-355e03f9>2020 - </span>
          2021
        </a></span></div></div> <div class="hide" data-v-0f44a727><header class="navbar" data-v-0f44a727><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="å¿ƒæ²‰åˆ™çµ" class="logo"> <span class="site-name">å¿ƒæ²‰åˆ™çµ</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  ä¸»é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      å½’æ¡£
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Architect/" class="nav-link"><i class="undefined"></i>
  Architect
</a></li><li class="dropdown-item"><!----> <a href="/categories/Microservices/" class="nav-link"><i class="undefined"></i>
  Microservices
</a></li><li class="dropdown-item"><!----> <a href="/categories/Spring/" class="nav-link"><i class="undefined"></i>
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/categories/DB/" class="nav-link"><i class="undefined"></i>
  DB
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/Middleware/" class="nav-link"><i class="undefined"></i>
  Middleware
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´è½´
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-0f44a727></div> <aside class="sidebar" data-v-0f44a727><div class="personal-info-wrapper" data-v-5aaeb100 data-v-0f44a727><!----> <h3 class="name" data-v-5aaeb100>
    Lingener
  </h3> <div class="num" data-v-5aaeb100><div data-v-5aaeb100><h3 data-v-5aaeb100>36</h3> <h6 data-v-5aaeb100>Articles</h6></div> <div data-v-5aaeb100><h3 data-v-5aaeb100>20</h3> <h6 data-v-5aaeb100>Tags</h6></div></div> <ul class="social-links" data-v-5aaeb100></ul> <hr data-v-5aaeb100></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  ä¸»é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      å½’æ¡£
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/Architect/" class="nav-link"><i class="undefined"></i>
  Architect
</a></li><li class="dropdown-item"><!----> <a href="/categories/Microservices/" class="nav-link"><i class="undefined"></i>
  Microservices
</a></li><li class="dropdown-item"><!----> <a href="/categories/Spring/" class="nav-link"><i class="undefined"></i>
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/categories/DB/" class="nav-link"><i class="undefined"></i>
  DB
</a></li><li class="dropdown-item"><!----> <a href="/categories/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/categories/Middleware/" class="nav-link"><i class="undefined"></i>
  Middleware
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´è½´
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>OS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/os/io.html" class="sidebar-link">ç½‘ç»œIO</a></li><li><a href="/views/os/linux.html" class="sidebar-link">LinuxåŸºç¡€</a></li><li><a href="/views/os/network.html" class="sidebar-link">ç½‘ç»œåŸºç¡€</a></li><li><a href="/views/os/underlying.html" aria-current="page" class="active sidebar-link">åº•å±‚åŸºç¡€çŸ¥è¯†</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-355e03f9 data-v-0f44a727><h3 class="title" data-v-355e03f9 data-v-355e03f9>åº•å±‚åŸºç¡€çŸ¥è¯†</h3> <!----> <label id="box" class="inputBox" data-v-355e03f9 data-v-355e03f9><input type="password" value="" data-v-355e03f9> <span data-v-355e03f9>Konck! Knock!</span> <button data-v-355e03f9>OK</button></label> <div class="footer" data-v-355e03f9 data-v-355e03f9><span data-v-355e03f9><i class="iconfont reco-theme" data-v-355e03f9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-355e03f9>vuePress-theme-reco</a></span> <span data-v-355e03f9><i class="iconfont reco-copyright" data-v-355e03f9></i> <a data-v-355e03f9><span data-v-355e03f9>Lingener</span>
          Â Â 
          <span data-v-355e03f9>2020 - </span>
          2021
        </a></span></div></div> <div data-v-0f44a727><main class="page"><section><div class="page-title"><h1 class="title">åº•å±‚åŸºç¡€çŸ¥è¯†</h1> <div data-v-5eef61be><i class="iconfont reco-account" data-v-5eef61be><span data-v-5eef61be>Lingener</span></i> <i class="iconfont reco-date" data-v-5eef61be><span data-v-5eef61be>10/30/2020</span></i> <i class="iconfont reco-eye" data-v-5eef61be><span id="/views/os/underlying.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-5eef61be><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="ç›¸å…³ä¹¦ç±æ¨è"><a href="#ç›¸å…³ä¹¦ç±æ¨è" class="header-anchor">#</a> ç›¸å…³ä¹¦ç±æ¨è</h1> <p>è¯»ä¹¦çš„åŸåˆ™ï¼šä¸æ±‚ç”šè§£ï¼Œè§‚å…¶å¤§ç•¥</p> <p>ä½ å¦‚æœè¿›åˆ°åºå±±é‡Œå¤´ï¼ŒäºŒè¯ä¸è¯´ï¼Œè¹²ä¸‹å¤´æ¥ï¼Œå¼¯ä¸‹è…°ï¼Œå°±å¯¹ç€æŸæ£µæ ‘æŸæ£µå°è‰çŒ›ç ”ç©¶è€Œä¸æ˜¯è¯´å…ˆæŠŠåºå±±çš„æ•´ä½“è„‰ç»œè·Ÿé‚£ç ”ç©¶æ¸…æ¥šäº†ï¼Œé‚£ä¹ˆä½ çš„å­¦ä¹ æ–¹æ³•è‚¯å®šæ•ˆç‡å·¨ä½è€Œä¸”ç‰¹åˆ«ç—›è‹¦ï¼Œæœ€é‡è¦çš„è¿˜æ˜¯æ…¢æ…¢åœ°è¿˜æ‰“å‡»ä½ çš„ç§¯ææ€§ï¼Œè¯´æˆ‘çš„å­¦ä¹ æ€ä¹ˆé‚£ä¹ˆä¸happyå•Šï¼Œæ€ä¹ˆé‚£ä¹ˆç‰¹æ²¡åŠ²é‚£ï¼Œå› ä¸ºä½ çš„å­¦ä¹ æ–¹æ³•é”™äº†ï¼Œå¤§ä½“è¯»æ˜ç™½ï¼Œå…ˆæ‹¿æ¥ç”¨ï¼Œç”¨ç€ç”¨ç€ï¼Œå¾ˆå¤šé“ç†ä½ å°±æ˜ç™½äº†</p> <p>â–ªã€Šç¼–ç ï¼šéšåŒ¿åœ¨è®¡ç®—æœºè½¯ç¡¬ä»¶èƒŒåçš„è¯­è¨€ã€‹</p> <p>â–ªã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹</p> <p>â–ªè¯­è¨€ï¼šC JAVA  K&amp;Rã€ŠCç¨‹åºè®¾è®¡è¯­è¨€ã€‹ã€ŠC Primer Plusã€‹</p> <p>â–ª æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼š -- æ¯•ç”Ÿçš„å­¦ä¹  leetCode</p> <p>â€“ã€ŠJavaæ•°æ®ç»“æ„ä¸ç®—æ³•ã€‹ã€Šç®—æ³•ã€‹</p> <p>â€“ã€Šç®—æ³•å¯¼è®ºã€‹ã€Šè®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯ã€‹//éš¾</p> <p>â–ªæ“ä½œç³»ç»Ÿï¼š<em>Linuxå†…æ ¸æºç è§£æ</em>  Linuxå†…æ ¸è®¾è®¡ä¸å®ç° 30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿ</p> <p>â–ªç½‘ç»œï¼šæœºå·¥ã€ŠTCP/IPè¯¦è§£ã€‹å·ä¸€ ç¿»è¯‘ä¸€èˆ¬</p> <p>â–ªç¼–è¯‘åŸç†ï¼šæœºå·¥ é¾™ä¹¦ ã€Šç¼–è¯‘åŸç†ã€‹ ã€Šç¼–ç¨‹è¯­è¨€å®ç°æ¨¡å¼ã€‹é©¬è¯­</p> <p>â–ªæ•°æ®åº“ï¼šSQLiteæºç  Derby - JDKè‡ªå¸¦æ•°æ®åº“</p> <h1 id="ç¡¬ä»¶åŸºç¡€çŸ¥è¯†"><a href="#ç¡¬ä»¶åŸºç¡€çŸ¥è¯†" class="header-anchor">#</a> ç¡¬ä»¶åŸºç¡€çŸ¥è¯†</h1> <p><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/Image.8b0314f1.png" alt="Image"></p> <h2 id="cpuçš„åˆ¶ä½œè¿‡ç¨‹"><a href="#cpuçš„åˆ¶ä½œè¿‡ç¨‹" class="header-anchor">#</a> CPUçš„åˆ¶ä½œè¿‡ç¨‹</h2> <p>Intel cpuçš„åˆ¶ä½œè¿‡ç¨‹</p> <p><a href="https://haokan.baidu.com/v?vid=11928468945249380709&amp;pd=bjh&amp;fr=bjhauthor&amp;type=video" target="_blank" rel="noopener noreferrer">https://haokan.baidu.com/v?vid=11928468945249380709&amp;pd=bjh&amp;fr=bjhauthor&amp;type=<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://haokan.baidu.com/v?vid=11928468945249380709&amp;pd=bjh&amp;fr=bjhauthor&amp;type=video" target="_blank" rel="noopener noreferrer">video<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>CPUæ˜¯å¦‚ä½•åˆ¶ä½œçš„ï¼ˆæ–‡å­—æè¿°ï¼‰</p> <p><a href="https://www.sohu.com/a/255397866_468626" target="_blank" rel="noopener noreferrer">https<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://www.sohu.com/a/255397866_468626" target="_blank" rel="noopener noreferrer">ğŸ˜•/www.sohu.com/a/255397866_468626<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="cpuçš„åŸç†"><a href="#cpuçš„åŸç†" class="header-anchor">#</a> CPUçš„åŸç†</h2> <p>è®¡ç®—æœºéœ€è¦è§£å†³çš„æœ€æ ¹æœ¬é—®é¢˜ï¼šå¦‚ä½•ä»£è¡¨æ•°å­—</p> <p>æ™¶ä½“ç®¡æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š</p> <p><a href="https://haokan.baidu.com/v?vid=16026741635006191272&amp;pd=bjh&amp;fr=bjhauthor&amp;type=video" target="_blank" rel="noopener noreferrer">https://haokan.baidu.com/v?vid=16026741635006191272&amp;pd=bjh&amp;fr=bjhauthor&amp;type=<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><a href="https://haokan.baidu.com/v?vid=16026741635006191272&amp;pd=bjh&amp;fr=bjhauthor&amp;type=video" target="_blank" rel="noopener noreferrer">video<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>æ™¶ä½“ç®¡çš„å·¥ä½œåŸç†ï¼š</p> <p>https://www.bilibili.com/video/av47388949?p=2</p> <h2 id="æ±‡ç¼–è¯­è¨€-æœºå™¨è¯­è¨€-çš„æ‰§è¡Œè¿‡ç¨‹"><a href="#æ±‡ç¼–è¯­è¨€-æœºå™¨è¯­è¨€-çš„æ‰§è¡Œè¿‡ç¨‹" class="header-anchor">#</a> æ±‡ç¼–è¯­è¨€ï¼ˆæœºå™¨è¯­è¨€ï¼‰çš„æ‰§è¡Œè¿‡ç¨‹</h2> <p>æ±‡ç¼–è¯­è¨€çš„æœ¬è´¨ï¼šæœºå™¨è¯­è¨€çš„åŠ©è®°ç¬¦ å…¶å®å®ƒå°±æ˜¯æœºå™¨è¯­è¨€</p> <p>è®¡ç®—æœºé€šç”µ -&gt; CPUè¯»å–å†…å­˜ä¸­ç¨‹åºï¼ˆç”µä¿¡å·è¾“å…¥ï¼‰</p> <p>-&gt;æ—¶é’Ÿå‘ç”Ÿå™¨ä¸æ–­éœ‡è¡é€šæ–­ç”µ -&gt;æ¨åŠ¨CPUå†…éƒ¨ä¸€æ­¥ä¸€æ­¥æ‰§è¡Œ</p> <p>ï¼ˆæ‰§è¡Œå¤šå°‘æ­¥å–å†³äºæŒ‡ä»¤éœ€è¦çš„æ—¶é’Ÿå‘¨æœŸï¼‰</p> <p>-&gt;è®¡ç®—å®Œæˆ-&gt;å†™å›ï¼ˆç”µä¿¡å·ï¼‰-&gt;å†™ç»™æ˜¾å¡è¾“å‡ºï¼ˆsoutï¼Œæˆ–è€…å›¾å½¢ï¼‰</p> <h2 id="é‡å­è®¡ç®—æœº"><a href="#é‡å­è®¡ç®—æœº" class="header-anchor">#</a> <em>é‡å­è®¡ç®—æœº</em></h2> <p>é‡å­æ¯”ç‰¹ï¼ŒåŒæ—¶è¡¨ç¤º1 0</p> <h2 id="cpuçš„åŸºæœ¬ç»„æˆ"><a href="#cpuçš„åŸºæœ¬ç»„æˆ" class="header-anchor">#</a> CPUçš„åŸºæœ¬ç»„æˆ</h2> <ul><li><p>PC -&gt; Program Counter ç¨‹åºè®¡æ•°å™¨ ï¼ˆè®°å½•å½“å‰æŒ‡ä»¤åœ°å€ï¼‰</p></li> <li><p>Registers -&gt; æš‚æ—¶å­˜å‚¨CPUè®¡ç®—éœ€è¦ç”¨åˆ°çš„æ•°æ®</p></li> <li><p>ALU -&gt; Arithmetic &amp; Logic Unit è¿ç®—å•å…ƒ</p></li> <li><p>CU -&gt; Control Unit æ§åˆ¶å•å…ƒ</p></li> <li><p>MMU -&gt; Memory Management Unit å†…å­˜ç®¡ç†å•å…ƒ</p></li> <li><p>cache</p> <ul><li><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„.28a7243d.png" alt="image-20210518153955311"></li> <li><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/image-20210518154201610.67abc968.png" alt="image-20210518154201610"></li> <li><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/image-20210518154411676.b1e3b1c8.png" alt="image-20210518154411676"></li></ul></li> <li><p>è¶…çº¿ç¨‹</p> <p>ä¸€ä¸ªALUå¯¹åº”å¤šä¸ªPC|Registersï¼Œæ‰€è°“çš„å››æ ¸å…«çº¿ç¨‹</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/è¶…çº¿ç¨‹.bee838a3.png" alt="image-20210518153524339"></p> <h2 id="ç¼“å­˜"><a href="#ç¼“å­˜" class="header-anchor">#</a> ç¼“å­˜</h2> <p>ä¸€è‡´æ€§åè®®ï¼šhttps://www.cnblogs.com/z00377750/p/9180644.html</p> <p>ç¨‹åºå±€éƒ¨æ€§åŸç†ï¼ŒæŒ‰å¿«è¯»å–å¯ä»¥æé«˜æ•ˆç‡</p> <p><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/image-20210518160329114.6c9a6639.png" alt="image-20210518160329114"></p> <p>ç¼“å­˜è¡Œï¼š</p> <p>ç¼“å­˜è¡Œè¶Šå¤§ï¼Œå±€éƒ¨æ€§ç©ºé—´æ•ˆç‡è¶Šé«˜ï¼Œä½†è¯»å–æ—¶é—´æ…¢</p> <p>ç¼“å­˜è¡Œè¶Šå°ï¼Œå±€éƒ¨æ€§ç©ºé—´æ•ˆç‡è¶Šä½ï¼Œä½†è¯»å–æ—¶é—´å¿«</p> <p>å–ä¸€ä¸ªæŠ˜ä¸­å€¼ï¼Œç›®å‰å¤šç”¨ï¼š</p> <p>64å­—èŠ‚</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>package com.mashibing.juc.c_028_FalseSharing;

public class T03_CacheLinePadding {

    public static volatile long[] arr = new long[2];

    public static void main(String[] args) throws Exception {
        Thread t1 = new Thread(()-&gt;{
            for (long i = 0; i &lt; 10000_0000L; i++) {
                arr[0] = i;
            }
        });

        Thread t2 = new Thread(()-&gt;{
            for (long i = 0; i &lt; 10000_0000L; i++) {
                arr[1] = i;
            }
        });

        final long start = System.nanoTime();
        t1.start();
        t2.start();
        t1.join();
        t2.join();
        System.out.println((System.nanoTime() - start)/100_0000);
    }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>package com.mashibing.juc.c_028_FalseSharing;

public class T04_CacheLinePadding {

    public static volatile long[] arr = new long[16];

    public static void main(String[] args) throws Exception {
        Thread t1 = new Thread(()-&gt;{
            for (long i = 0; i &lt; 10000_0000L; i++) {
                arr[0] = i;
            }
        });

        Thread t2 = new Thread(()-&gt;{
            for (long i = 0; i &lt; 10000_0000L; i++) {
                arr[8] = i;
            }
        });

        final long start = System.nanoTime();
        t1.start();
        t2.start();
        t1.join();
        t2.join();
        System.out.println((System.nanoTime() - start)/100_0000);
    }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>ç¼“å­˜è¡Œå¯¹é½ï¼šå¯¹äºæœ‰äº›ç‰¹åˆ«æ•æ„Ÿçš„æ•°å­—ï¼Œä¼šå­˜åœ¨çº¿ç¨‹é«˜ç«äº‰çš„è®¿é—®ï¼Œä¸ºäº†ä¿è¯ä¸å‘ç”Ÿä¼ªå…±äº«ï¼Œå¯ä»¥ä½¿ç”¨ç¼“å­˜èˆªå¯¹é½çš„ç¼–ç¨‹æ–¹å¼</p> <p>JDK7ä¸­ï¼Œå¾ˆå¤šé‡‡ç”¨long paddingæé«˜æ•ˆç‡</p> <p>JDK8ï¼ŒåŠ å…¥äº†@Contendedæ³¨è§£ï¼ˆå®éªŒï¼‰éœ€è¦åŠ ä¸Šï¼šJVM -XX:-RestrictContended</p> <h2 id="ä¹±åºæ‰§è¡Œ"><a href="#ä¹±åºæ‰§è¡Œ" class="header-anchor">#</a> ä¹±åºæ‰§è¡Œ</h2> <p>https://preshing.com/20120515/memory-reordering-caught-in-the-act/</p> <p>jvm/jmm/Disorder.java</p> <h3 id="ç¦æ­¢ä¹±åº"><a href="#ç¦æ­¢ä¹±åº" class="header-anchor">#</a> ç¦æ­¢ä¹±åº</h3> <p>CPUå±‚é¢ï¼šIntel -&gt; åŸè¯­(mfence lfence sfence) æˆ–è€…é”æ€»çº¿</p> <p>JVMå±‚çº§ï¼š8ä¸ªhanppens-beforeåŸåˆ™ 4ä¸ªå†…å­˜å±éšœ ï¼ˆLL LS SL SSï¼‰</p> <p>as-if-serial : ä¸ç®¡ç¡¬ä»¶ä»€ä¹ˆé¡ºåºï¼Œå•çº¿ç¨‹æ‰§è¡Œçš„ç»“æœä¸å˜ï¼Œçœ‹ä¸Šå»åƒæ˜¯serial</p> <h2 id="åˆå¹¶å†™-ä¸é‡è¦"><a href="#åˆå¹¶å†™-ä¸é‡è¦" class="header-anchor">#</a> åˆå¹¶å†™ï¼ˆä¸é‡è¦ï¼‰</h2> <p>Write Combining Buffer</p> <p>ä¸€èˆ¬æ˜¯4ä¸ªå­—èŠ‚</p> <p>ç”±äºALUé€Ÿåº¦å¤ªå¿«ï¼Œæ‰€ä»¥åœ¨å†™å…¥L1çš„åŒæ—¶ï¼Œå†™å…¥ä¸€ä¸ªWC Bufferï¼Œæ»¡äº†ä¹‹åï¼Œå†ç›´æ¥æ›´æ–°åˆ°L2</p> <h2 id="numa"><a href="#numa" class="header-anchor">#</a> NUMA</h2> <p>Non Uniform Memory Access  éç»Ÿä¸€è®¿é—®å†…å­˜</p> <p>ZGC - NUMA aware</p> <p>åˆ†é…å†…å­˜ä¼šä¼˜å…ˆåˆ†é…è¯¥çº¿ç¨‹æ‰€åœ¨CPUçš„æœ€è¿‘å†…å­˜</p> <p><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/image-20210518183140227.fb72f884.png" alt="image-20210518183140227"></p> <h2 id="å¯åŠ¨è¿‡ç¨‹-ä¸é‡è¦"><a href="#å¯åŠ¨è¿‡ç¨‹-ä¸é‡è¦" class="header-anchor">#</a> å¯åŠ¨è¿‡ç¨‹ï¼ˆä¸é‡è¦ï¼‰</h2> <p>é€šç”µ -&gt; bios uefi å·¥ä½œ -&gt; è‡ªæ£€ -&gt; åˆ°ç¡¬ç›˜å›ºå®šä½ç½®åŠ è½½bootloader -&gt; è¯»å–å¯é…ç½®ä¿¡æ¯ -&gt; CMOS</p> <h1 id="os"><a href="#os" class="header-anchor">#</a> OS</h1> <h2 id="å†…æ ¸åˆ†ç±»"><a href="#å†…æ ¸åˆ†ç±»" class="header-anchor">#</a> å†…æ ¸åˆ†ç±»</h2> <p>å¾®å†…æ ¸ - å¼¹æ€§éƒ¨ç½² 5G IoT</p> <p>å®å†…æ ¸ - PC phone</p> <p>å¤–æ ¸ - ç§‘ç ” å®éªŒä¸­ ä¸ºåº”ç”¨å®šåˆ¶æ“ä½œç³»ç»Ÿ (å¤šç§Ÿæˆ· request-based GC JVM)</p> <h2 id="ç”¨æˆ·æ€ä¸å†…æ ¸æ€"><a href="#ç”¨æˆ·æ€ä¸å†…æ ¸æ€" class="header-anchor">#</a> ç”¨æˆ·æ€ä¸å†…æ ¸æ€</h2> <p>cpuåˆ†ä¸åŒçš„æŒ‡ä»¤çº§åˆ«</p> <p>linuxå†…æ ¸è·‘åœ¨ring 0çº§ï¼Œ ç”¨æˆ·ç¨‹åºè·‘åœ¨ring 3ï¼Œå¯¹äºç³»ç»Ÿçš„å…³é”®è®¿é—®ï¼Œéœ€è¦ç»è¿‡kernelçš„åŒæ„ï¼Œä¿è¯ç³»ç»Ÿå¥å£®æ€§</p> <p>å†…æ ¸æ‰§è¡Œçš„æ“ä½œ - &gt; 200å¤šä¸ªç³»ç»Ÿè°ƒç”¨ sendfile read write pthread fork</p> <p>JVM -&gt; ç«™åœ¨OSè€å¤§çš„è§’åº¦ï¼Œå°±æ˜¯ä¸ªæ™®é€šç¨‹åº</p> <h1 id="è¿›ç¨‹-çº¿ç¨‹-çº¤ç¨‹-ä¸­æ–­"><a href="#è¿›ç¨‹-çº¿ç¨‹-çº¤ç¨‹-ä¸­æ–­" class="header-anchor">#</a> è¿›ç¨‹ çº¿ç¨‹ çº¤ç¨‹ ä¸­æ–­</h1> <p>é¢è¯•é«˜é¢‘ï¼šè¿›ç¨‹å’Œçº¿ç¨‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p> <p>ç­”æ¡ˆï¼šè¿›ç¨‹å°±æ˜¯ä¸€ä¸ªç¨‹åºè¿è¡Œèµ·æ¥çš„çŠ¶æ€ï¼Œçº¿ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹ä¸­çš„ä¸åŒçš„æ‰§è¡Œè·¯å¾„ã€‚ä¸“ä¸šï¼šè¿›ç¨‹æ˜¯OSåˆ†é…èµ„æºçš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯æ‰§è¡Œè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚åˆ†é…èµ„æºæœ€é‡è¦çš„æ˜¯ï¼šç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œçº¿ç¨‹è°ƒåº¦æ‰§è¡Œï¼ˆçº¿ç¨‹å…±äº«è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼Œæ²¡æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼‰</p> <p>çº¤ç¨‹ï¼šç”¨æˆ·æ€çš„çº¿ç¨‹ï¼Œçº¿ç¨‹ä¸­çš„çº¿ç¨‹ï¼Œåˆ‡æ¢å’Œè°ƒåº¦ä¸éœ€è¦ç»è¿‡OS</p> <p>ä¼˜åŠ¿ï¼š1ï¼šå æœ‰èµ„æºå¾ˆå°‘ OS : çº¿ç¨‹1M Fiberï¼š4K 2ï¼šåˆ‡æ¢æ¯”è¾ƒç®€å• 3ï¼šå¯åŠ¨å¾ˆå¤šä¸ª10W+</p> <p>ç›®å‰2020 3 22æ”¯æŒå†…ç½®çº¤ç¨‹çš„è¯­è¨€ï¼šKotlin Scala Go Python(lib)... Java? ï¼ˆopen jdk : loomï¼‰</p> <h2 id="javaä¸­å¯¹äºçº¤ç¨‹çš„æ”¯æŒ-æ²¡æœ‰å†…ç½®-ç›¼æœ›å†…ç½®"><a href="#javaä¸­å¯¹äºçº¤ç¨‹çš„æ”¯æŒ-æ²¡æœ‰å†…ç½®-ç›¼æœ›å†…ç½®" class="header-anchor">#</a> Javaä¸­å¯¹äºçº¤ç¨‹çš„æ”¯æŒï¼šæ²¡æœ‰å†…ç½®ï¼Œç›¼æœ›å†…ç½®</h2> <p>åˆ©ç”¨Quaseråº“ï¼ˆä¸æˆç†Ÿï¼‰</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

    &lt;groupId&gt;mashibing.com&lt;/groupId&gt;
    &lt;artifactId&gt;HelloFiber&lt;/artifactId&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

    &lt;dependencies&gt;
        &lt;!-- https://mvnrepository.com/artifact/co.paralleluniverse/quasar-core --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;co.paralleluniverse&lt;/groupId&gt;
            &lt;artifactId&gt;quasar-core&lt;/artifactId&gt;
            &lt;version&gt;0.8.0&lt;/version&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;

&lt;/project&gt;
import co.paralleluniverse.fibers.Fiber;
import co.paralleluniverse.fibers.SuspendExecution;
import co.paralleluniverse.strands.SuspendableRunnable;

public class HelloFiber {

    public static void main(String[] args) throws  Exception {
        long start = System.currentTimeMillis();
        Runnable r = new Runnable() {
            @Override
            public void run() {
                calc();
            }
        };

        int size = 10000;

        Thread[] threads = new Thread[size];
        for (int i = 0; i &lt; threads.length; i++) {
            threads[i] = new Thread(r);
        }

        for (int i = 0; i &lt; threads.length; i++) {
            threads[i].start();
        }

        for (int i = 0; i &lt; threads.length; i++) {
            threads[i].join();
        }

        long end = System.currentTimeMillis();
        System.out.println(end - start);


    }

    static void calc() {
        int result = 0;
        for (int m = 0; m &lt; 10000; m++) {
            for (int i = 0; i &lt; 200; i++) result += i;

        }
    }
}


import co.paralleluniverse.fibers.Fiber;
import co.paralleluniverse.fibers.SuspendExecution;
import co.paralleluniverse.strands.SuspendableRunnable;

public class HelloFiber2 {

    public static void main(String[] args) throws  Exception {
        long start = System.currentTimeMillis();


        int size = 10000;

        Fiber&lt;Void&gt;[] fibers = new Fiber[size];

        for (int i = 0; i &lt; fibers.length; i++) {
            fibers[i] = new Fiber&lt;Void&gt;(new SuspendableRunnable() {
                public void run() throws SuspendExecution, InterruptedException {
                    calc();
                }
            });
        }

        for (int i = 0; i &lt; fibers.length; i++) {
            fibers[i].start();
        }

        for (int i = 0; i &lt; fibers.length; i++) {
            fibers[i].join();
        }

        long end = System.currentTimeMillis();
        System.out.println(end - start);


    }

    static void calc() {
        int result = 0;
        for (int m = 0; m &lt; 10000; m++) {
            for (int i = 0; i &lt; 200; i++) result += i;

        }
    }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br></div></div><p>ä½œä¸šï¼šç›®å‰æ˜¯10000ä¸ªFiber -&gt; 1ä¸ªJVMçº¿ç¨‹ï¼Œæƒ³åŠæ³•æé«˜æ•ˆç‡ï¼Œ10000Fiber -&gt; 10ä»½ -&gt; 10Threads</p> <h2 id="çº¤ç¨‹çš„åº”ç”¨åœºæ™¯"><a href="#çº¤ç¨‹çš„åº”ç”¨åœºæ™¯" class="header-anchor">#</a> çº¤ç¨‹çš„åº”ç”¨åœºæ™¯</h2> <p>çº¤ç¨‹ vs çº¿ç¨‹æ± ï¼šå¾ˆçŸ­çš„è®¡ç®—ä»»åŠ¡ï¼Œä¸éœ€è¦å’Œå†…æ ¸æ‰“äº¤é“ï¼Œå¹¶å‘é‡é«˜ï¼</p> <h2 id="åƒµå°¸è¿›ç¨‹"><a href="#åƒµå°¸è¿›ç¨‹" class="header-anchor">#</a> åƒµå°¸è¿›ç¨‹</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;string.h&gt;
#include &lt;assert.h&gt;
#include &lt;sys/types.h&gt;

int main() {
        pid_t pid = fork();

        if (0 == pid) {
                printf(&quot;child id is %d\n&quot;, getpid());
                printf(&quot;parent id is %d\n&quot;, getppid());
        } else {
                while(1) {}
        }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="å­¤å„¿è¿›ç¨‹"><a href="#å­¤å„¿è¿›ç¨‹" class="header-anchor">#</a> å­¤å„¿è¿›ç¨‹</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;string.h&gt;
#include &lt;assert.h&gt;
#include &lt;sys/types.h&gt;

int main() {
        pid_t pid = fork();

        if (0 == pid) {
                printf(&quot;child ppid is %d\n&quot;, getppid());
                sleep(10);
                printf(&quot;parent ppid is %d\n&quot;, getppid());
        } else {
                printf(&quot;parent id is %d\n&quot;, getpid());
                sleep(5);
                exit(0);
        }
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h1 id="è¿›ç¨‹è°ƒåº¦"><a href="#è¿›ç¨‹è°ƒåº¦" class="header-anchor">#</a> è¿›ç¨‹è°ƒåº¦</h1> <p>2.6é‡‡ç”¨CFSè°ƒåº¦ç­–ç•¥ï¼šCompletely Fair Scheduler</p> <p>æŒ‰ä¼˜å…ˆçº§åˆ†é…æ—¶é—´ç‰‡çš„æ¯”ä¾‹ï¼Œè®°å½•æ¯ä¸ªè¿›ç¨‹çš„æ‰§è¡Œæ—¶é—´ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œæ—¶é—´ä¸åˆ°ä»–åº”è¯¥åˆ†é…çš„æ¯”ä¾‹ï¼Œä¼˜å…ˆæ‰§è¡Œ</p> <p>é»˜è®¤è°ƒåº¦ç­–ç•¥ï¼š</p> <p>å®æ—¶ ï¼ˆæ€¥è¯Šï¼‰ ä¼˜å…ˆçº§åˆ†é«˜ä½ - FIFO (First In First Out)ï¼Œä¼˜å…ˆçº§ä¸€æ · - RRï¼ˆRound Robinï¼‰ æ™®é€šï¼š CFS</p> <h1 id="ä¸­æ–­"><a href="#ä¸­æ–­" class="header-anchor">#</a> ä¸­æ–­</h1> <p><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/image-20210519112735470.6b390850.png" alt="image-20210519112735470"></p> <p>ç¡¬ä»¶è·Ÿæ“ä½œç³»ç»Ÿå†…æ ¸æ‰“äº¤é“çš„ä¸€ç§æœºåˆ¶</p> <p>è½¯ä¸­æ–­ï¼ˆ80ä¸­æ–­ï¼‰ ==  ç³»ç»Ÿè°ƒç”¨</p> <p>ç³»ç»Ÿè°ƒç”¨ï¼šint 0x80 æˆ–è€… sysenteråŸè¯­</p> <p>é€šè¿‡axå¯„å­˜å™¨å¡«å…¥è°ƒç”¨å·</p> <p>å‚æ•°é€šè¿‡bx cx dx si diä¼ å…¥å†…æ ¸</p> <p>è¿”å›å€¼é€šè¿‡axè¿”å›</p> <p>javaè¯»ç½‘ç»œ â€“ jvm read() â€“ cåº“read() - &gt;</p> <p>å†…æ ¸ç©ºé—´ -&gt; system_call() ï¼ˆç³»ç»Ÿè°ƒç”¨å¤„ç†ç¨‹åºï¼‰</p> <p>-&gt; sys_read()</p> <h2 id="ä»æ±‡ç¼–è§’åº¦ç†è§£è½¯ä¸­æ–­"><a href="#ä»æ±‡ç¼–è§’åº¦ç†è§£è½¯ä¸­æ–­" class="header-anchor">#</a> ä»æ±‡ç¼–è§’åº¦ç†è§£è½¯ä¸­æ–­</h2> <h3 id="æ­å»ºæ±‡ç¼–ç¯å¢ƒ"><a href="#æ­å»ºæ±‡ç¼–ç¯å¢ƒ" class="header-anchor">#</a> æ­å»ºæ±‡ç¼–ç¯å¢ƒ</h3> <p>yum install nasm</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>;hello.asm
;write(int fd, const void *buffer, size_t nbytes)
;fd æ–‡ä»¶æè¿°ç¬¦ file descriptor - linuxä¸‹ä¸€åˆ‡çš†æ–‡ä»¶

section data
    msg db &quot;Hello&quot;, 0xA
    len equ $ - msg

section .text
global _start
_start:

    mov edx, len
    mov ecx, msg
    mov ebx, 1 ;æ–‡ä»¶æè¿°ç¬¦1 std_out
    mov eax, 4 ;writeå‡½æ•°ç³»ç»Ÿè°ƒç”¨å· 4
    int 0x80

    mov ebx, 0
    mov eax, 1 ;exitå‡½æ•°ç³»ç»Ÿè°ƒç”¨å·
    int 0x80
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>ç¼–è¯‘ï¼šnasm -f elf  hello.asm -o hello.o</p> <p>é“¾æ¥ï¼šld -m elf_i386 -o hello hello.o</p> <p>ä¸€ä¸ªç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œè¦ä¹ˆå¤„äºç”¨æˆ·æ€ï¼Œè¦ä¹ˆå¤„äºå†…æ ¸æ€</p> <h1 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="header-anchor">#</a> å†…å­˜ç®¡ç†</h1> <h2 id="å†…å­˜ç®¡ç†çš„å‘å±•å†ç¨‹"><a href="#å†…å­˜ç®¡ç†çš„å‘å±•å†ç¨‹" class="header-anchor">#</a> å†…å­˜ç®¡ç†çš„å‘å±•å†ç¨‹</h2> <p>DOSæ—¶ä»£ - åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨è¿è¡Œï¼ˆä¹Ÿæœ‰ä¸€äº›ç‰¹æ®Šç®—æ³•å¯ä»¥æ”¯æŒå¤šè¿›ç¨‹ï¼‰</p> <p>windows9x - å¤šä¸ªè¿›ç¨‹è£…å…¥å†…å­˜ 1ï¼šå†…å­˜ä¸å¤Ÿç”¨ 2ï¼šäº’ç›¸æ‰“æ‰°</p> <p>ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œè¯ç”Ÿäº†ç°åœ¨çš„å†…å­˜ç®¡ç†ç³»ç»Ÿï¼šè™šæ‹Ÿåœ°å€ åˆ†é¡µè£…å…¥ è½¯ç¡¬ä»¶ç»“åˆå¯»å€</p> <ol><li><p>åˆ†é¡µï¼ˆå†…å­˜ä¸å¤Ÿç”¨ï¼‰ï¼Œå†…å­˜ä¸­åˆ†æˆå›ºå®šå¤§å°çš„é¡µæ¡†ï¼ˆ4Kï¼‰ï¼ŒæŠŠç¨‹åºï¼ˆç¡¬ç›˜ä¸Šï¼‰åˆ†æˆ4Kå¤§å°çš„å—ï¼Œç”¨åˆ°å“ªä¸€å—ï¼ŒåŠ è½½é‚£ä¸€å—ï¼ŒåŠ è½½çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå†…å­˜å·²ç»æ»¡äº†ï¼Œä¼šæŠŠæœ€ä¸å¸¸ç”¨çš„ä¸€å—æ”¾åˆ°swapåˆ†åŒºï¼Œ æŠŠæœ€æ–°çš„ä¸€å—åŠ è½½è¿›æ¥ï¼Œè¿™ä¸ªå°±æ˜¯è‘—åçš„LRUç®—æ³•</p> <ol><li>LRUç®—æ³• LeetCode146é¢˜ï¼Œå¤´æ¡è¦æ±‚æ‰‹æ’•ï¼Œé˜¿é‡Œå»å¹´ä¹Ÿè¦æ±‚æ‰‹æ’•</li> <li>Least Recently Used æœ€ä¸å¸¸ç”¨</li> <li>å“ˆå¸Œè¡¨ï¼ˆä¿è¯ æŸ¥æ‰¾æ“ä½œO(1)ï¼‰ + é“¾è¡¨ ï¼ˆä¿è¯ æ’åºæ“ä½œå’Œæ–°å¢æ“ä½œ O(1)ï¼‰ï¼‰</li> <li>åŒå‘é“¾è¡¨ ï¼ˆä¿è¯ å·¦è¾¹æŒ‡é’ˆ æŒ‡å‘å³è¾¹å—ï¼‰</li></ol></li> <li><p>è™šæ‹Ÿå†…å­˜ï¼ˆè§£å†³ç›¸äº’æ‰“æ‰°é—®é¢˜ï¼‰</p> <ol><li><p>DOS Win31 ... äº’ç›¸å¹²æ‰</p></li> <li><p>ä¸ºäº†ä¿è¯äº’ä¸å½±å“ - è®©è¿›ç¨‹å·¥ä½œåœ¨è™šæ‹Ÿç©ºé—´ï¼Œç¨‹åºä¸­ç”¨åˆ°çš„ç©ºé—´åœ°å€ä¸å†æ˜¯ç›´æ¥çš„ç‰©ç†åœ°å€ï¼Œè€Œæ˜¯è™šæ‹Ÿçš„åœ°å€ï¼Œè¿™æ ·ï¼ŒAè¿›ç¨‹æ°¸è¿œä¸å¯èƒ½è®¿é—®åˆ°Bè¿›ç¨‹çš„ç©ºé—´</p></li> <li><p>è™šæ‹Ÿç©ºé—´å¤šå¤§å‘¢ï¼Ÿå¯»å€ç©ºé—´ - 64ä½ç³»ç»Ÿ 2 ^ 64ï¼Œæ¯”ç‰©ç†ç©ºé—´å¤§å¾ˆå¤š ï¼Œå•ä½æ˜¯byte</p></li> <li><p>ç«™åœ¨è™šæ‹Ÿçš„è§’åº¦ï¼Œè¿›ç¨‹æ˜¯ç‹¬äº«æ•´ä¸ªç³»ç»Ÿ + CPU</p></li> <li><p>å†…å­˜æ˜ å°„ï¼šåç§»é‡ + æ®µçš„åŸºåœ°å€ = çº¿æ€§åœ°å€ ï¼ˆè™šæ‹Ÿç©ºé—´ï¼‰</p> <p><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/image-20210521110034729.e46eabf9.png" alt="image-20210521110034729"></p></li> <li><p>çº¿æ€§åœ°å€é€šè¿‡ OS + MMUï¼ˆç¡¬ä»¶ Memory Management Unitï¼‰</p> <p><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/image-20210521110519501.cf0aa829.png" alt="image-20210521110519501"></p> <p><img src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/img/image-20210521110745203.505a5841.png" alt="image-20210521110745203"></p></li></ol></li> <li><p>ç¼ºé¡µä¸­æ–­ï¼ˆä¸æ˜¯å¾ˆé‡è¦ï¼‰ï¼š</p> <ol><li>éœ€è¦ç”¨åˆ°é¡µé¢å†…å­˜ä¸­æ²¡æœ‰ï¼Œäº§ç”Ÿç¼ºé¡µå¼‚å¸¸ï¼ˆä¸­æ–­ï¼‰ï¼Œç”±å†…æ ¸å¤„ç†å¹¶åŠ è½½</li></ol></li></ol> <h2 id="zgc"><a href="#zgc" class="header-anchor">#</a> ZGC</h2> <p>ç®—æ³•å«åšï¼šColored Pointer</p> <p>GCä¿¡æ¯è®°å½•åœ¨æŒ‡é’ˆä¸Šï¼Œä¸æ˜¯è®°å½•åœ¨å¤´éƒ¨ï¼Œ immediate memory use</p> <p>42ä½æŒ‡é’ˆ å¯»å€ç©ºé—´4T JDK13 -&gt; 16T ç›®å‰ä¸ºæ­¢æœ€å¤§16T 2^44</p> <h3 id="cpuå¦‚ä½•åŒºåˆ†ä¸€ä¸ªç«‹å³æ•°-å’Œ-ä¸€æ¡æŒ‡ä»¤"><a href="#cpuå¦‚ä½•åŒºåˆ†ä¸€ä¸ªç«‹å³æ•°-å’Œ-ä¸€æ¡æŒ‡ä»¤" class="header-anchor">#</a> CPUå¦‚ä½•åŒºåˆ†ä¸€ä¸ªç«‹å³æ•° å’Œ ä¸€æ¡æŒ‡ä»¤</h3> <p>æ€»çº¿å†…éƒ¨åˆ†ä¸ºï¼šæ•°æ®æ€»çº¿ åœ°å€æ€»çº¿ æ§åˆ¶æ€»çº¿</p> <p>åœ°å€æ€»çº¿ç›®å‰ï¼š48ä½</p> <p>é¢œè‰²æŒ‡é’ˆæœ¬è´¨ä¸ŠåŒ…å«äº†åœ°å€æ˜ å°„çš„æ¦‚å¿µ</p> <h1 id="å†…æ ¸åŒæ­¥æœºåˆ¶"><a href="#å†…æ ¸åŒæ­¥æœºåˆ¶" class="header-anchor">#</a> å†…æ ¸åŒæ­¥æœºåˆ¶</h1> <h2 id="å…³äºåŒæ­¥ç†è®ºçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ"><a href="#å…³äºåŒæ­¥ç†è®ºçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ" class="header-anchor">#</a> å…³äºåŒæ­¥ç†è®ºçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ</h2> <p>â€¢ä¸´ç•ŒåŒºï¼ˆcritical areaï¼‰: è®¿é—®æˆ–æ“ä½œå…±äº«æ•°æ®çš„ä»£ç æ®µ  ç®€å•ç†è§£ï¼šsynchronizedå¤§æ‹¬å·ä¸­éƒ¨åˆ†ï¼ˆåŸå­æ€§ï¼‰</p> <p>â€¢ç«äº‰æ¡ä»¶ï¼ˆrace conditionsï¼‰ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶æ‹¥æœ‰ä¸´ç•ŒåŒºçš„æ‰§è¡Œæƒ</p> <p>â€¢æ•°æ®ä¸ä¸€è‡´ï¼šdata unconsistency ç”±ç«äº‰æ¡ä»¶å¼•èµ·çš„æ•°æ®ç ´å</p> <p>â€¢åŒæ­¥ï¼ˆsynchronizationï¼‰é¿å…race conditions</p> <p>â€¢é”ï¼šå®ŒæˆåŒæ­¥çš„æ‰‹æ®µï¼ˆé—¨é”ï¼Œé—¨åæ˜¯ä¸´ç•ŒåŒºï¼Œåªå…è®¸ä¸€ä¸ªçº¿ç¨‹å­˜åœ¨ï¼‰ ä¸Šé”è§£é”å¿…é¡»å…·å¤‡åŸå­æ€§</p> <p>â€¢åŸå­æ€§ï¼ˆè±¡åŸå­ä¸€æ ·ä¸å¯åˆ†å‰²çš„æ“ä½œï¼‰</p> <p>â€¢æœ‰åºæ€§ï¼ˆç¦æ­¢æŒ‡ä»¤é‡æ’ï¼‰</p> <p>â€¢å¯è§æ€§ï¼ˆä¸€ä¸ªçº¿ç¨‹å†…çš„ä¿®æ”¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯è§ï¼‰</p> <p>äº’æ–¥é” æ’ä»–é” å…±äº«é” åˆ†æ®µé”</p> <h2 id="å†…æ ¸åŒæ­¥å¸¸ç”¨æ–¹æ³•"><a href="#å†…æ ¸åŒæ­¥å¸¸ç”¨æ–¹æ³•" class="header-anchor">#</a> å†…æ ¸åŒæ­¥å¸¸ç”¨æ–¹æ³•</h2> <p>1.åŸå­æ“ä½œ â€“ å†…æ ¸ä¸­ç±»ä¼¼äºAtomicXXXï¼Œä½äº&lt;linux/types.h&gt;</p> <p>2.è‡ªæ—‹é” â€“ å†…æ ¸ä¸­é€šè¿‡æ±‡ç¼–æ”¯æŒçš„casï¼Œä½äº&lt;asm/spinlock.h&gt;</p> <p>3.è¯»-å†™è‡ªæ—‹ â€“ ç±»ä¼¼äºReadWriteLockï¼Œå¯åŒæ—¶è¯»ï¼Œåªèƒ½ä¸€ä¸ªå†™ è¯»çš„æ—¶å€™æ˜¯å…±äº«é”ï¼Œå†™çš„æ—¶å€™æ˜¯æ’ä»–é”</p> <p>4.ä¿¡å·é‡ â€“ ç±»ä¼¼äºSemaphore(PVæ“ä½œ down upæ“ä½œ å æœ‰å’Œé‡Šæ”¾ï¼‰ é‡é‡çº§é”ï¼Œçº¿ç¨‹ä¼šè¿›å…¥waitï¼Œé€‚åˆé•¿æ—¶é—´æŒæœ‰çš„é”æƒ…å†µ</p> <p>5.è¯»-å†™ä¿¡å·é‡ â€“ downread upread downwrite upwrite ï¼ˆå¤šä¸ªå†™ï¼Œå¯ä»¥åˆ†æ®µå†™ï¼Œæ¯”è¾ƒå°‘ç”¨ï¼‰(åˆ†æ®µé”ï¼‰</p> <p>6.äº’æ–¥ä½“(mutex) â€“ ç‰¹æ®Šçš„ä¿¡å·é‡ï¼ˆäºŒå€¼ä¿¡å·é‡ï¼‰</p> <p>7.å®Œæˆå˜é‡ â€“ ç‰¹æ®Šçš„ä¿¡å·é‡ï¼ˆAå‘å‡ºä¿¡å·ç»™Bï¼ŒBç­‰å¾…åœ¨å®Œæˆå˜é‡ä¸Šï¼‰ vfork() åœ¨å­è¿›ç¨‹ç»“æŸæ—¶é€šè¿‡å®Œæˆå˜é‡å«é†’çˆ¶è¿›ç¨‹ ç±»ä¼¼äº(Latch)</p> <p>8.BKLï¼šå¤§å†…æ ¸é”ï¼ˆæ—©æœŸï¼Œç°åœ¨å·²ç»ä¸ç”¨ï¼‰</p> <p>9.é¡ºåºé”ï¼ˆ2.6ï¼‰ï¼š â€“ çº¿ç¨‹å¯ä»¥æŒ‚èµ·çš„è¯»å†™è‡ªæ—‹é” åºåˆ—è®¡æ•°å™¨ï¼ˆä»0å¼€å§‹ï¼Œå†™æ—¶å¢åŠ (+1)ï¼Œå†™å®Œé‡Šæ”¾(+1)ï¼Œè¯»å‰å‘ç°å•æ•°ï¼Œ è¯´æ˜æœ‰å†™çº¿ç¨‹ï¼Œç­‰å¾…ï¼Œè¯»å‰è¯»ååºåˆ—ä¸€æ ·ï¼Œè¯´æ˜æ²¡æœ‰å†™çº¿ç¨‹æ‰“æ–­ï¼‰</p> <p>10.ç¦æ­¢æŠ¢å  â€“ preempt_disable()</p> <p>11.å†…å­˜å±éšœ â€“ è§volatile</p> <h1 id="æ±‡ç¼–å®ç°å¼•å¯¼ç¨‹åº"><a href="#æ±‡ç¼–å®ç°å¼•å¯¼ç¨‹åº" class="header-anchor">#</a> æ±‡ç¼–å®ç°å¼•å¯¼ç¨‹åº</h1> <h2 id="ç¼–å†™æ±‡ç¼–ç "><a href="#ç¼–å†™æ±‡ç¼–ç " class="header-anchor">#</a> ç¼–å†™æ±‡ç¼–ç </h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>
; æ–‡ä»¶å boot.asm

org 7c00h                     ; BIOSè¯»å…¥MBRåï¼Œä»0x7c00hå¤„å¼€å§‹æ‰§è¡Œ

; ä¸‹é¢éƒ¨åˆ†å’Œ10hæœ‰å…³ä¸­æ–­ï¼Œ10hä¸­æ–­ç”¨æ¥æ˜¾ç¤ºå­—ç¬¦
mov ax, cs
mov es, ax
mov ax, msg
mov bp, ax                    ; ES:BPè¡¨ç¤ºæ˜¾ç¤ºå­—ç¬¦ä¸²çš„åœ°å€
mov cx, msgLen                ; CXå­˜å­—ç¬¦é•¿åº¦
mov ax, 1301h                 ; AH=13hè¡¨ç¤ºå‘TTYæ˜¾ç¤ºå­—ç¬¦ï¼ŒAL=01hè¡¨ç¤ºæ˜¾ç¤ºæ–¹å¼ï¼ˆå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«æ˜¾ç¤ºå±æ€§ï¼Œ01hè¡¨ç¤ºä¸åŒ…å«ï¼‰
mov bx, 000fh                 ; BH=00hè¡¨ç¤ºé¡µå·ï¼ŒBL=0fhè¡¨ç¤ºé¢œè‰²
mov dl, 0                     ; åˆ—
int 10h

msg: db &quot;hello world, welcome to OS!&quot;
msgLen: equ $ - msg           ; å­—ç¬¦ä¸²é•¿åº¦
times 510 - ($ - $$) db 0     ; å¡«å……å‰©ä½™éƒ¨åˆ†
dw 0aa55h                     ; é­”æ•°ï¼Œå¿…é¡»æœ‰è¿™ä¸¤ä¸ªå­—èŠ‚BIOSæ‰ç¡®è®¤æ˜¯MBR
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="header-anchor">#</a> ç¼–è¯‘</h2> <p>nasm boot.asm -o boot.bin</p> <h2 id="åˆ¶ä½œå¯åŠ¨è½¯ç›˜"><a href="#åˆ¶ä½œå¯åŠ¨è½¯ç›˜" class="header-anchor">#</a> åˆ¶ä½œå¯åŠ¨è½¯ç›˜</h2> <ol><li>dd if=/dev/zero of=floppy.img bs=1474560 count=1 <strong>ç”Ÿæˆç©ºç™½è½¯ç›˜é•œåƒ</strong></li> <li>dd if=boot.bin of=myos.img bs=512 count=1 <strong>åˆ¶ä½œåŒ…å«ä¸»å¼•å¯¼è®°å½•boot.binçš„å¯åŠ¨é•œåƒæ–‡ä»¶</strong></li> <li>dd if=floppy.img of=myos.img skip=1 seek=1 bs=512 count=2879 <strong>åœ¨ bin ç”Ÿæˆçš„é•œåƒæ–‡ä»¶åè¡¥ä¸Šç©ºç™½ï¼Œæˆä¸ºåˆé€‚å¤§å°çš„è½¯ç›˜é•œåƒï¼Œä¸€å…±2880ä¸ªæ‰‡åŒºï¼Œç•¥è¿‡ç¬¬ä¸€ä¸ª</strong></li></ol> <h2 id="ç”¨è½¯ç›˜å¯åŠ¨ç³»ç»Ÿ"><a href="#ç”¨è½¯ç›˜å¯åŠ¨ç³»ç»Ÿ" class="header-anchor">#</a> ç”¨è½¯ç›˜å¯åŠ¨ç³»ç»Ÿ</h2> <ol><li>å°†myos.imgä¸‹è½½åˆ°windows</li> <li>VMWareåˆ›å»ºç©ºçš„è™šæ‹Ÿæœº
<ol><li>æ–‡ä»¶ - åˆ›å»ºæ–°çš„è™šæ‹Ÿæœº - å…¸å‹</li> <li>ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ</li> <li>å…¶ä»–</li> <li>ä¸€è·¯next å®Œæˆ</li> <li>è™šæ‹Ÿæœºè®¾ç½®ï¼Œå»æ‰CD/DVDé€‰é¡¹ä¸­â€œå¯åŠ¨æ—¶è¿æ¥â€</li> <li>ç½‘ç»œï¼Œé€‰æ‹©â€œä»…ä¸»æœºæ¨¡å¼â€ï¼Œå‹¾é€‰â€œå¯åŠ¨æ—¶è¿æ¥â€ï¼ˆå¥½åƒæ— æ‰€è°“ï¼‰</li> <li>æ·»åŠ è½¯ç›˜é©±åŠ¨å™¨ ä½¿ç”¨è½¯ç›˜æ˜ åƒ æ‰¾åˆ°myos.img</li></ol></li> <li>å¯åŠ¨è™šæ‹Ÿæœº</li></ol> <h2 id="ä¸ºä»€ä¹ˆæ˜¯0x7c00"><a href="#ä¸ºä»€ä¹ˆæ˜¯0x7c00" class="header-anchor">#</a> ä¸ºä»€ä¹ˆæ˜¯0x7C00?</h2> <p>![img](file:///C:/work/courses/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/imgs/8080%E5%AE%9E%E6%A8%A1%E5%BC%8F%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.png)</p> <p>å‚è€ƒï¼šhttps://www.glamenv-septzen.net/en/view/6</p></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/views/os/network.html" class="prev">
            ç½‘ç»œåŸºç¡€
          </a></span> <!----></p></div> <div class="comments-wrapper" style="display:none;"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-898d6c54><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#cpuçš„åˆ¶ä½œè¿‡ç¨‹" class="sidebar-link reco-side-cpuçš„åˆ¶ä½œè¿‡ç¨‹" data-v-898d6c54>CPUçš„åˆ¶ä½œè¿‡ç¨‹</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#cpuçš„åŸç†" class="sidebar-link reco-side-cpuçš„åŸç†" data-v-898d6c54>CPUçš„åŸç†</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#æ±‡ç¼–è¯­è¨€-æœºå™¨è¯­è¨€-çš„æ‰§è¡Œè¿‡ç¨‹" class="sidebar-link reco-side-æ±‡ç¼–è¯­è¨€-æœºå™¨è¯­è¨€-çš„æ‰§è¡Œè¿‡ç¨‹" data-v-898d6c54>æ±‡ç¼–è¯­è¨€ï¼ˆæœºå™¨è¯­è¨€ï¼‰çš„æ‰§è¡Œè¿‡ç¨‹</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#é‡å­è®¡ç®—æœº" class="sidebar-link reco-side-é‡å­è®¡ç®—æœº" data-v-898d6c54>é‡å­è®¡ç®—æœº</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#cpuçš„åŸºæœ¬ç»„æˆ" class="sidebar-link reco-side-cpuçš„åŸºæœ¬ç»„æˆ" data-v-898d6c54>CPUçš„åŸºæœ¬ç»„æˆ</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#ç¼“å­˜" class="sidebar-link reco-side-ç¼“å­˜" data-v-898d6c54>ç¼“å­˜</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#ä¹±åºæ‰§è¡Œ" class="sidebar-link reco-side-ä¹±åºæ‰§è¡Œ" data-v-898d6c54>ä¹±åºæ‰§è¡Œ</a></li><li class="level-3" data-v-898d6c54><a href="/views/os/underlying.html#ç¦æ­¢ä¹±åº" class="sidebar-link reco-side-ç¦æ­¢ä¹±åº" data-v-898d6c54>ç¦æ­¢ä¹±åº</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#åˆå¹¶å†™-ä¸é‡è¦" class="sidebar-link reco-side-åˆå¹¶å†™-ä¸é‡è¦" data-v-898d6c54>åˆå¹¶å†™ï¼ˆä¸é‡è¦ï¼‰</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#numa" class="sidebar-link reco-side-numa" data-v-898d6c54>NUMA</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#å¯åŠ¨è¿‡ç¨‹-ä¸é‡è¦" class="sidebar-link reco-side-å¯åŠ¨è¿‡ç¨‹-ä¸é‡è¦" data-v-898d6c54>å¯åŠ¨è¿‡ç¨‹ï¼ˆä¸é‡è¦ï¼‰</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#å†…æ ¸åˆ†ç±»" class="sidebar-link reco-side-å†…æ ¸åˆ†ç±»" data-v-898d6c54>å†…æ ¸åˆ†ç±»</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#ç”¨æˆ·æ€ä¸å†…æ ¸æ€" class="sidebar-link reco-side-ç”¨æˆ·æ€ä¸å†…æ ¸æ€" data-v-898d6c54>ç”¨æˆ·æ€ä¸å†…æ ¸æ€</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#javaä¸­å¯¹äºçº¤ç¨‹çš„æ”¯æŒ-æ²¡æœ‰å†…ç½®-ç›¼æœ›å†…ç½®" class="sidebar-link reco-side-javaä¸­å¯¹äºçº¤ç¨‹çš„æ”¯æŒ-æ²¡æœ‰å†…ç½®-ç›¼æœ›å†…ç½®" data-v-898d6c54>Javaä¸­å¯¹äºçº¤ç¨‹çš„æ”¯æŒï¼šæ²¡æœ‰å†…ç½®ï¼Œç›¼æœ›å†…ç½®</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#çº¤ç¨‹çš„åº”ç”¨åœºæ™¯" class="sidebar-link reco-side-çº¤ç¨‹çš„åº”ç”¨åœºæ™¯" data-v-898d6c54>çº¤ç¨‹çš„åº”ç”¨åœºæ™¯</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#åƒµå°¸è¿›ç¨‹" class="sidebar-link reco-side-åƒµå°¸è¿›ç¨‹" data-v-898d6c54>åƒµå°¸è¿›ç¨‹</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#å­¤å„¿è¿›ç¨‹" class="sidebar-link reco-side-å­¤å„¿è¿›ç¨‹" data-v-898d6c54>å­¤å„¿è¿›ç¨‹</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#ä»æ±‡ç¼–è§’åº¦ç†è§£è½¯ä¸­æ–­" class="sidebar-link reco-side-ä»æ±‡ç¼–è§’åº¦ç†è§£è½¯ä¸­æ–­" data-v-898d6c54>ä»æ±‡ç¼–è§’åº¦ç†è§£è½¯ä¸­æ–­</a></li><li class="level-3" data-v-898d6c54><a href="/views/os/underlying.html#æ­å»ºæ±‡ç¼–ç¯å¢ƒ" class="sidebar-link reco-side-æ­å»ºæ±‡ç¼–ç¯å¢ƒ" data-v-898d6c54>æ­å»ºæ±‡ç¼–ç¯å¢ƒ</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#å†…å­˜ç®¡ç†çš„å‘å±•å†ç¨‹" class="sidebar-link reco-side-å†…å­˜ç®¡ç†çš„å‘å±•å†ç¨‹" data-v-898d6c54>å†…å­˜ç®¡ç†çš„å‘å±•å†ç¨‹</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#zgc" class="sidebar-link reco-side-zgc" data-v-898d6c54>ZGC</a></li><li class="level-3" data-v-898d6c54><a href="/views/os/underlying.html#cpuå¦‚ä½•åŒºåˆ†ä¸€ä¸ªç«‹å³æ•°-å’Œ-ä¸€æ¡æŒ‡ä»¤" class="sidebar-link reco-side-cpuå¦‚ä½•åŒºåˆ†ä¸€ä¸ªç«‹å³æ•°-å’Œ-ä¸€æ¡æŒ‡ä»¤" data-v-898d6c54>CPUå¦‚ä½•åŒºåˆ†ä¸€ä¸ªç«‹å³æ•° å’Œ ä¸€æ¡æŒ‡ä»¤</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#å…³äºåŒæ­¥ç†è®ºçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ" class="sidebar-link reco-side-å…³äºåŒæ­¥ç†è®ºçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ" data-v-898d6c54>å…³äºåŒæ­¥ç†è®ºçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#å†…æ ¸åŒæ­¥å¸¸ç”¨æ–¹æ³•" class="sidebar-link reco-side-å†…æ ¸åŒæ­¥å¸¸ç”¨æ–¹æ³•" data-v-898d6c54>å†…æ ¸åŒæ­¥å¸¸ç”¨æ–¹æ³•</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#ç¼–å†™æ±‡ç¼–ç " class="sidebar-link reco-side-ç¼–å†™æ±‡ç¼–ç " data-v-898d6c54>ç¼–å†™æ±‡ç¼–ç </a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#ç¼–è¯‘" class="sidebar-link reco-side-ç¼–è¯‘" data-v-898d6c54>ç¼–è¯‘</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#åˆ¶ä½œå¯åŠ¨è½¯ç›˜" class="sidebar-link reco-side-åˆ¶ä½œå¯åŠ¨è½¯ç›˜" data-v-898d6c54>åˆ¶ä½œå¯åŠ¨è½¯ç›˜</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#ç”¨è½¯ç›˜å¯åŠ¨ç³»ç»Ÿ" class="sidebar-link reco-side-ç”¨è½¯ç›˜å¯åŠ¨ç³»ç»Ÿ" data-v-898d6c54>ç”¨è½¯ç›˜å¯åŠ¨ç³»ç»Ÿ</a></li><li class="level-2" data-v-898d6c54><a href="/views/os/underlying.html#ä¸ºä»€ä¹ˆæ˜¯0x7c00" class="sidebar-link reco-side-ä¸ºä»€ä¹ˆæ˜¯0x7c00" data-v-898d6c54>ä¸ºä»€ä¹ˆæ˜¯0x7C00?</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas><APlayer audio="" fixed="true" mini="true" autoplay="autoplay" theme="#3eaf7c" loop="loop" order="random" preload="auto" volume="0.2" mutex="true" lrc-type="0" list-folded="true" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer></div></div>
    <script src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/app.0b21ff5c.js" defer></script><script src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/5.f8fa3a85.js" defer></script><script src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/1.46137cce.js" defer></script><script src="https://cdn.jsdelivr.net/gh/lingener/lingener.github.io/assets/js/8.3fc861cf.js" defer></script>
  </body>
</html>
